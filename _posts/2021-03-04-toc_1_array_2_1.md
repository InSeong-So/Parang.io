---
title: "분할 상환 분석(Amortized Analysis)"
excerpt: "분할 상환 분석(Amortized Analysis)"

categories:
  - IT-Note
tags:
  - 자료구조, 배열, 개념
last_modified_at: 2021-03-04T07:24:37-05:00
---

## 참조
- 사이트
    - [블로그](https://hcn1519.github.io/articles/2017-05/amortized_analysis)


## 개념

- 주어진 알고리즘의 시간 복잡도나 프로그램을 수행하는데 소요되는 시간 또는 메모리 같은 자원 사용량을 분석하기 위해서 사용하는 기법이다.
- 알고리즘을 분석할 때에 각각의 연산마다 최악의 경우를 따져본다는 것은 굉장히 힘든 일이기 때문에, 이를 쉽게 해결하기 위해 분할 상환 분석이라는 방법론이 나오게 되었다.

## 평균 러닝타임 분석의 필요성

- 3 벌의 옷을 산다고 생각해보자. 각각의 옷은 1만 원, 2만 원, 3만 원이며 구매 시 필요한 총 금액은 6만 원이다.
    - 옷을 전부 구매해야 하지만 아는 정보라곤 "**옷 한 벌당 최대 3만원"** 밖에 없다.
    - 그렇다면 준비해야 하는 금액은 어떻게 될까?
- 옷 3벌을 구매하므로 최악의 상황에는 총 9만 원이 필요하다. "**옷 한 벌당 최대 3만원"**의 정보만으로는 불필요한 3만원을 더 준비해야 한다.
    - 그런데 여기에 **"옷 한 벌당 구매 당 평균 비용이 2만 원"**이라는 정보를 추가적으로 알게 된다면 우리가 준비해야 하는 금액은 어떻게 될까?
- **정확히 6만원만 준비하면 된다.** 이 때 필요한 돈 6만원이 어떻게 사용되는지 조금 자세히 살펴보자면 다음과 같다.
    1. 평균 비용을 통해 각 옷마다 2만원이 들 것이라 예상하고 6만 원을 준비한다.
    2. 구매하는 옷이 2만원이라면 그대로 2만원을 사용한다.
    3. 옷이 2만원보다 비싸다면 부족한 금액을 2만원보다 싼 옷에서 보충한다.
- 너무 당연한 얘기지만 이것이 분할 상환 분석의 핵심이다. **부족한 금액(최악)**이나 **남는 금액(최선)**을 서로 보충하면서 **준비할 금액(평균)**을 도출하듯 전체 연산의 평균 비용을 계산하는 것이다.
- 분할상환분석은 알고리즘의 러닝타임을 분석하는 방식 중 하나이다. 기존 알고리즘 러닝타임 분석은 코드의 *Big-O* 를 통해 표현하였다.
    - *Big-O* 는 전체 알고리즘 비용을 최악으로 잡아 실제 연산과 다른 상황이 종종 나타난다.
    - 분할 상환 분석은 전체 비용의 평균이라는 추가 정보를 제공하여 실제 연산의 비용 판단에 도움을 준다.
- 즉, 분할 상환 분석은 자료구조를 수행하는 경우 필요한 시간을 비용으로 산정하고 평균을 구하는 분석 방법이다.